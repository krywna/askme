<div class="container text-center">
  <h2 class="title">Изменения данных аккаунта.</h2>

  <% if @user.errors.any? %>
    <div class="mt">
      <% @user.errors.full_messages.each do |message| %>
        <p class="mb-sm text-red"><%= message %></p>
      <% end %>
    </div>
  <% end %>

  <div class="mt">
    <%= form_with model: @user, data: {turbo: false} do |form| %>
      <p><%= form.label :name, "Ваше имя" %></p>
      <p><%= form.text_field :name, class: "form-text-field" %></p>

      <p class="mt"><%= form.label :nickname, "Ник на сайте" %></p>
      <p><%= form.text_field :nickname, class: "form-text-field" %></p>

      <p class="mt-lg text-sm">Если не хотите менять пароль - оставьте эти поля пустыми</p>

      <p class="mt"><%= form.label :password %></p>
      <p><%= form.password_field :password, class: "form-text-field" %></p>

      <p class="mt"><%= form.label :password_confirmation %></p>
      <p><%= form.password_field :password_confirmation, class: "form-text-field" %></p>

      <p class="mt"><%= form.label :header_background_color %></p>
      <p><%= form.color_field :color, class: "form-color-field mt" %></p>
      
      <p class="mt-lg mb-lg">
        <%= form.submit "Сохранить", class: "button button-main mt-lg " %>
        <span class="text-sm">или <%= link_to "Вернуться", :back, class: "text-red" %></span>
      </p>
    <% end %>

    <div class="mt-lg">
      <%= button_to "Удалить аккаунт", user_path(@user),
        method: :delete,
        form: {data: {turbo_confirm: "Вы точно хотите удалить свой профиль?"}},
        class: "text-red text-sm" %>
    </div>
  </div>
</div>
